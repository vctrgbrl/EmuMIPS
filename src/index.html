<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/scrollbar.css">
	<title>EmuMips</title>
</head>
<body>
	<nav>
		<h1>EmuMips</h1>
		<a href="about.html"><h3>Sobre</h3></a>
	</nav>

	<button onclick="clockPipeline()"> CLOCK </button>
	<div class="main">
		<div class="app">
			<div class="box disassembler">
				<h3>Disassembler</h3>
				<ul id="disassembler">
				</ul>
			</div>
			<div class="box pipeline">
				<h3>Pipeline</h3>
				<div>
					<div style="margin: .5px;">
						<h3>IF</h3>
						<div id="if_div"></div>
					</div>
					<div style="margin: .5px;">
						<h3>ID</h3>
						<div id="id_div"></div>
					</div>
					<div style="margin: .5px;">
						<h3>EX</h3>
						<div id="ex_div"></div>
					</div>
					<div style="margin: .5px;">
						<h3>MEM</h3>
						<div id="mem_div"></div>
					</div>
					<div style="margin: .5px;">
						<h3>WB</h3>
						<div id="wb_div"></div>
					</div>
				</div>
			</div>
			<div class="box registers">
				<h3>Registers</h3>
				<div class="">
					<div id="0">$zero: <span>0</span></div>
					<div>$at: <span>0</span></div> 
					<div>$v0: <span>0</span></div>
					<div>$v1: <span>0</span></div>
					<div>$a0: <span>0</span></div>
					<div>$a1: <span>0</span></div>
					<div>$a2: <span>0</span></div> 
					<div>$a3: <span>0</span></div> 
					<div>$t0: <span>0</span></div> 
					<div>$t1: <span>0</span></div> 
					<div>$t2: <span>0</span></div>
					<div>$t3: <span>0</span></div>
					<div>$t4: <span>0</span></div>
					<div>$t5: <span>0</span></div>
					<div>$t6: <span>0</span></div>
					<div>$t7: <span>0</span></div>
					<div>$s0: <span>0</span></div>
					<div>$s1: <span>0</span></div>
					<div>$s2: <span>0</span></div>
					<div>$s3: <span>0</span></div>
					<div>$s4: <span>0</span></div>
					<div>$s5: <span>0</span></div>
					<div>$s6: <span>0</span></div>
					<div>$s7: <span>0</span></div>
					<div>$t8: <span>0</span></div>
					<div>$t9: <span>0</span></div>
					<div>$k0: <span>0</span></div>
					<div>$k1: <span>0</span></div>
					<div>$gp: <span>0</span></div>
					<div>$sp: <span>0</span></div>
					<div>$fp: <span>0</span></div>
					<div>$ra: <span>0</span></div>
				</div>
			</div>
			<div class="box memory">
				<h3>Memory</h3>
				<ul id="memory" style="height: 250px;">
				</ul>
			</div>
			<div class="box debugger">
				<h3>Debugger</h3>
			</div>
		</div>
	</div>
	<script src="js/Emulator.js"></script>
	<script src="js/Disassembler.js"></script>
	<script src="js/UIDisassembler.js"></script>
	<script src="js/UIPipeline.js"></script>
	<!-- <script src="js/MemoryUI.js"></script> -->
	<script>
		var pc_position = 0;
		var programInstructions = document.getElementsByClassName("instruction");
		var if_div = document.getElementById("if_div");
		var id_div = document.getElementById("id_div");
		var ex_div = document.getElementById("ex_div");
		var mem_div = document.getElementById("mem_div");
		var wb_div = document.getElementById("wb_div");

		var pipelineSequence = [if_div, id_div, ex_div, mem_div, wb_div];

		function clockPipeline(){
			pipelineSequence[pipelineSequence.length-1].innerHTML = "";
			for(let i=pipelineSequence.length-1; i>0; i--){
				pipelineSequence[i].innerHTML = pipelineSequence[i-1].innerHTML;
			}
			
			if(pc_position < programInstructions.length){
				pipelineSequence[0].innerHTML = programInstructions[pc_position].innerHTML;
				pc_position++;
			}
			else{
				pipelineSequence[0].innerHTML = "";
			}
		}
	</script>
</body>
</html>